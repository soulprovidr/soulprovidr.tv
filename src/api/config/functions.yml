channels-get:
  handler: functions/channels.get
  events:
    - http:
        path: channels/{slug}
        method: get
        cors:
          origin: '*'
          maxAge: 86400

channels-list:
    handler: functions/channels.list
    events:
      - http:
          path: channels
          method: get
          cors:
            origin: '*'
            maxAge: 86400

channels-save:
  handler: functions/channels.save
  timeout: 60

videos-list:
  handler: functions/videos.list
  events:
    - http:
        path: videos
        method: get
        cors:
          origin: '*'
          maxAge: 86400

videos-save:
  handler: functions/videos.save
  reservedConcurrency: 10
  timeout: 60
  events:
    - sqs:
        arn: arn:aws:sqs:${self:provider.region}:#{AWS::AccountId}:${self:custom.videos.queueName}
        batchSize: 1